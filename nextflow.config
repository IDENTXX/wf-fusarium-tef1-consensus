manifest {
  name            = 'IDENTXX/wf-fusarium-tef1-consensus'
  author          = 'IDENTXX'
  homePage        = 'https://github.com/IDENTXX/wf-fusarium-tef1-consensus'
  description     = 'Metabarcoding workflow for Fusarium TEF1 (EF-1Î±)'
  mainScript      = 'main.nf'
  nextflowVersion = '>=20.10.0'
  version         = 'v1.1.0'
}

params {
  // Required inputs
  reads    = null      
  db_fasta = null      
  out_dir  = 'output'

  // Primers
  primer_fwd       = ''
  primer_rev       = ''
  require_primers  = true
  trim_error_rate  = 0.12

  // Filtering
  min_q    = 9
  min_len  = 300
  max_len  = 1200

  // Clustering
  cluster_id        = 0.90
  min_cluster_reads = 20

  // BLAST
  blast_topn = 5
}

process {
  // WICHTIG: Hier sagen wir, welches Docker Image genutzt werden soll
  container = 'identxx/fusarium-toolbox:v1.0'
  
  cpus   = 4
  memory = '4 GB'
  time   = '2h'
  errorStrategy = 'finish'
}

profiles {
  standard {
    docker.enabled = true
    docker.runOptions = '-u 0:0'
  }
}

